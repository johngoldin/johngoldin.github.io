<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>How I Set Up This Site &middot; John Goldin</title>

  
  <link rel="stylesheet" href="../../../../css/poole.css">
  <link rel="stylesheet" href="../../../../css/hyde.css">
  <link rel="stylesheet" href="../../../../css/poole-overrides.css">
  <link rel="stylesheet" href="../../../../css/hyde-overrides.css">
  <link rel="stylesheet" href="../../../../css/hyde-x.css">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../../touch-icon-144-precomposed.png">
  <link href="../../../../favicon.png" rel="icon">

  
  
  
  

  <meta name="description" content="">
  <meta name="keywords" content="">
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', ' UA-92008736-1', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>
<body class="theme-base-08">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      
      <h1>Can I Blog Too</h1>
      <p class="lead">Notes on this and that&hellip;</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="../../../../">Blog</a></li>
      
      <li class="sidebar-nav-item"><a href="../../../../about/">About</a></li>
      
      <li class="sidebar-nav-item"><a href="https://www.flickr.com/photos/99418994@N00/">Flickr</a></li>
      
      <li class="sidebar-nav-item"><a href="https://github.com/johngoldin">GitHub</a></li>
      
      <li class="sidebar-nav-item"><a href="../../../../2017/02/11/how-i-set-up-this-site/">How I Set Up This Site</a></li>
      
      <li class="sidebar-nav-item"><a href="https://twitter.com/johngoldin">Twitter</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="https://github.com/johngoldin"><i class="fa fa-github-square fa-3x"></i></a>
      
      
      
      
      
      <a href="https://twitter.com/johngoldin"><i class="fa fa-twitter-square fa-3x"></i></a>
      
      
      </li>
    </ul>
    
    <p>Copyright &copy; 2017 <a href="../../../../license/">License</a><br/>
       Powered by <a href="http://gohugo.io">Hugo</a> and <a href="https://github.com/zyro/hyde-x">Hyde-X</a></p>
  </div>
</div>


<div class="content container">
  <div class="post">
    <h1 class="post-title">How I Set Up This Site</h1>
    <span class="post-date">Feb 11, 2017 &middot; <a href="../../../../2017/02/11/how-i-set-up-this-site/#disqus_thread">Comments</a>
    
    <br/>
    <a class="label" href="../../../../categories/blogdown">blogdown</a><a class="label" href="../../../../categories/github">GitHub</a>
    </span>
    

<p>I attended the <strong>blogdown</strong> session at the RStudio conference in Florida. I am enjoying the enthusiasm and energy around R and RStudio.
It reminds me of the early days of personal computers at the end of the 70&rsquo;s and the beginning of the 80&rsquo;s. Perhaps I am experiencing a second
childhood. Anyway, all the Cool Kids are doing web pages on GitHub so I want to do it too.</p>

<p>I have done some simple blog posts with Blogger and WordPress. One of my goals is to create a portfolio of the my R projects.
RMarkdown is the obvious way to go and WordPress doesn&rsquo;t directly support
that. So that&rsquo;s a motivation to use <strong>blogdown</strong>. But a big  part of the
motivation is that these days I am &ldquo;all in&rdquo; with the RStudio set of
tools so it&rsquo;s natural to put my faith in Yihui Xie and jump in. Because <strong>blogdown</strong> is still developing,
I know I am going to suffer through rough edges. As a retiree, I am
doing this for fun so the rough edges just add to the adventure.</p>

<h3 id="github-pages">GitHub Pages</h3>

<p>I had a little trouble to start because I didn&rsquo;t understand the basics of
what was going on with GitHub and web pages. Here I am focused on what GitHub refers to as a &ldquo;user site&rdquo; (as opposed to an organization site or a project site). See their <a href="https://pages.github.com/">general description of GitHub Pages</a> and <a href="https://help.github.com/articles/what-is-github-pages">What is GitHub Pages?</a>. The key
fact is that if you have a repository called <code>username.github.io</code> (with your
GitHub username), whatever is in that repository will be served
as a web site accessed as <code>https://username.github.io</code>. What
we are going to do here is describe how to use <strong>markdown</strong>, RStudio,
and GitHub to place the content of a static web site into
your <code>username.github.io</code> repository.</p>

<h3 id="github">GitHub</h3>

<p>The site relies on <strong>blogdown</strong> and GitHub. You have to have at least a beginner&rsquo;s familiarity with GitHub, and believe me, I am merely a
GitHub beginner. I got my start with GitHub mostly based on information
from Jenny Bryan (see <a href="http://happygitwithr.com/">Happy Git and GitHub for the useR</a>) and from <a href="https://support.rstudio.com/hc/en-us/articles/200532077-Version-Control-with-Git-and-SVN">RStudio</a>. There&rsquo;s also an <a href="https://guides.github.com/activities/hello-world/">introduction</a> on the GitHub site.</p>

<p>You need to be able to create a repository on GitHub and then
clone that to a project in RStudio. See especially <a href="http://happygitwithr.com/new-github-first.html">section 16</a> on Happy Git.</p>

<p>In general I try to operate in a way that allows me to rely on RStudio to do most of the work and to avoid doing git commands in the Terminal on OSX.
That&rsquo;s why I create a minimal repository first on GitHub and then create
a new project in RStudio that clones the repository from GitHub. Rely on
Jenny&rsquo;s directions on how to do that.</p>

<h3 id="creating-a-website">Creating a website</h3>

<p>To get started with blogdown, I relied on a post by <a href="https://proquestionasker.github.io/blog/Making_Site/">Amber Thomas</a>,
especially the comments on the post by Yihui Xie, the creator of
<strong>blogdown</strong>. Amber&rsquo;s instructions involve more work with Git than I wanted
to attempt. In particular, she uses multiple branches. Instead,
I followed the suggestion in the comments by Yihui Xie and created two repositories.
One was for the site itself (<code>johngoldin.github.io</code>) and the other (which I called <code>pages-source</code>) contains the <strong>blogdown</strong> and <strong>Hugo</strong> material
that actually produces the site.</p>

<ol>
<li>Create a repository for username.github.io on your github.</li>
<li>Clone that to a RStudio project with the same name.</li>
<li>Create a repository on your github, any name you desire, but here we will call it <code>hugo-source</code>.</li>
<li>Clone that second project to an RStudio project.</li>
</ol>

<p>You are going to use <strong>blogdown</strong> to create a <strong>Hugo</strong> site created by files in the RStudio project
<code>hugo-source</code>. And you are going to configure that site
so that whenever it builds a website, it will place that
website into the RStudio project username.github.io.
When you push username.github.io to GitHub you will in effect
publish your website.</p>

<p>(It doesn&rsquo;t matter whether or not you maintain
a GitHub repository for <code>hugo-source</code>. It depends on whether
you want to use version control for convenience or backup, just
as would be true for any other RStudio project.)</p>

<p><a href="http://kevinfw.com/post/blogging-with-r-markdown/">Kevin Wong</a> does a nice
job of describing the steps needed to get started with <strong>blogdown</strong>. Too bad
I didn&rsquo;t discover this page until after I started writing this description. But I will follow his text closely here.</p>

<p>Here are the steps in the RStudio project that contains the source for Hugo. If you don&rsquo;t already have <code>devtools</code> installed as a pckage, use the Packages tab in RStudio to add that package.</p>

<pre><code>library(devtools)
devtools::install_github(&quot;rstudio/blogdown&quot;)
</code></pre>

<p>In the RStudio project hugo-source (or whatever you have called it), have
<strong>blogdown</strong> install hugo.</p>

<pre><code>library(blogdown)
blogdown::install_hugo()
</code></pre>

<p>Next we wil have Hugo create a new site:</p>

<pre><code>blogdown::new_site()
</code></pre>

<p>The hugo-source site has to be <strong>totally</strong> empty. Otherwise you will get an error. Of course as created it will not be totally empty.
You will have an RProj file and probably <code>.gitignore</code>.  Move those
out of the project folder and keep them somewhere safe. Run
<code>new_site</code> again and them move them back into the project folder.</p>

<p>Next you need to install a <strong>Hugo</strong> theme. Go to the <a href="http://themes.gohugo.io/">themes page</a> to find one you like.
It&rsquo;s hard to know what to pick when you are just starting out.
I&rsquo;m a novice as well so I can&rsquo;t offer good advice. You can
avoid a choice for now and just stick with the default theme
that is installed as part of the new_site() call.</p>

<p>If you have chosen a different theme, use the install_theme call:</p>

<pre><code>install_theme(&quot;spf13/hyde&quot;)
</code></pre>

<p>The above commands  will be needed only once when you first
setup the project.</p>

<p>To try out your site,</p>

<pre><code>blogdown::serve_site()
</code></pre>

<p>With luck, the web site should appear in your RStudio View pane.</p>

<p>If you make changes in a post, they will automatically update
in the site if it is running, You press the <strong>stop</strong> button to halt the site. To restart it in the RStudio Viewer pane, you
can again use <code>blogdown::serve_site()</code>.</p>

<p>How to you get this site running in <strong>GitHub</strong>? There&rsquo;s a neat trick.
Edit the <code>config.toml</code> file in the <code>hugo-pages</code> project folder and
add this magic line:</p>

<pre><code>publishDir = &quot;../username.github.io&quot;   # where username is your GitHub name
</code></pre>

<p>Whenever you run blogdown::serve_site(), the constructed site will be
created in the <code>username.github.io</code> directory rather than in <code>hugo-pages</code>.
To get the site working on <strong>GitHub</strong>, switch to the <code>username.github.io</code> project in RStudio,
go to the Git pane in RStudio, select all the changed files, <code>Commit</code>,
and then <code>Push</code> the changes to <strong>GitHub</strong>. Magic! The same code
that is creating the trial web site on your local computer will
now be reproduced exactly in the <code>username.github.io</code>
repository on <strong>GitHub</strong> and can be accessed as <a href="http://username.github.io">http://username.github.io</a>.</p>

<p>You can work on your web site on your local RStudio project. When you think it is ready to publish changes
for all the world to see, go to the <code>username.github.io</code> project and
push the changes to <strong>GitHub</strong> and you have published your changes on the web.</p>

<p>In summary, here are the steps to maintain the site:<br />
1. edit the site in the hugo-source project<br />
2. run blogdown::serve_site() to refresh the site<br />
3. switch to the username.github.io project on your local machine<br />
4. commit all changes<br />
5. push those changes to username.github.io on GitHub.</p>

<h3 id="now-what">Now What?</h3>

<p>I now have a working web site on <strong>GitHub</strong>. But I have a ways to go to learn
how to take advantage of <strong>Hugo</strong> on an ongoing basis. So far I have added
one and only one post. I have looked at the <a href="http://gohugo.io/overview/usage/">Hugo documentation</a> a bit to try to figure out how to do some basis things.
For example, <a href="https://gohugo.io/extras/shortcodes#ref-relref">this page</a> tells
me how to add a cross-reference to a post on my site.</p>

<p>It is not yet clear to me how I will take advantage of my <strong>Hugo</strong> <strong>GitHub</strong> site on an ongoing basis.
One of the features of <strong>blogdown</strong> is that I can use RMarkdown.
How will I do that in practice?
I&rsquo;ll have an RMarkdown file in a project I am working on that
documents or demonstrates that project. Will I <code>knit</code> the file
and then move the html to my <strong>blogdown</strong> project? Will
I move the Rmd file to the <strong>blogdown</strong> project and include a <code>setwd</code> function
call to point to the project that it comes from? I haven&rsquo;t
tried any of this in practice yet. I need to look at the existing <strong>blogdown</strong>
examples more closely. When I know more, I&rsquo;ll add to this introduction.</p>

<p>I have switched to the Hyde-x theme rather than just Hyde.
Configuration has involved a lot of trial and error.
I setup Disqus and briefly saw the ability to do comments on my blog. But after and I made some unrelated changes,
I no longer saw any sign of Disqus.
Eventually I realized that I was confused (and ignorant) about the
syntax of <code>config.toml</code>. I had had a square-brackets author line above
the line that set <code>disqusShortname</code> and as a result <code>disqusShortname</code>
wasn&rsquo;t getting set. I moved things around and comments reappeared.</p>

<p>This is typical of the blundering around I am doing with Hugo and themes.
I guess it&rsquo;s a learning experience.</p>

  </div>
  <div id="disqus_thread"></div>
</div>


<script type="text/javascript">
var disqus_shortname = "johngoldin";
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>



<script type="text/javascript">
    var disqus_shortname = "johngoldin";
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</body>
</html>

